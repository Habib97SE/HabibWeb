{{> admin_header}}

<div class="container my-2">
    <div class="row">
        <div class="columns col-12">
            {{> admin_sidebar}}
            <div class="column col-9">
                <div class="col-12">
                    <h1 style="display: inline-block;">{{header.title}}</h1>
                </div>
                <div class="col-12">
                    <a href="/admin/settings/new" class="btn btn-primary">Add new</a>
                </div>
                <div class="col-12 my-2 mx-2">
                    {{#if error}}
                        <div class="toast toast-error">
                            <p>Something went wrong, please try again</p>
                        </div>
                    {{/if}}
                    {{#if success}}
                        <div class="toast toast-success">
                            <p>Settings updated successfully</p>
                        </div>
                    {{/if}}
                    {{#if empty}}
                        <div class="toast toast-error">
                            <p>No field can be left empty.</p>
                        </div>
                    {{/if}}
                </div>
                <div class="card my-2 mx-2 py-2 px-2">
                    {{#if settings}}
                        <form method="post" action="/admin/settings" enctype="multipart/form-data">
                            {{#each settings}}

                                <div class="form-group">
                                    <label style="text-transform: capitalize;"
                                           for="{{{this.setting_name}}}">{{this.setting_name}}</label>
                                    <input type="text"
                                           class="form-input"
                                           id="{{{this.setting_name}}}"
                                           name="{{{this.setting_name}}}"
                                           placeholder="{{{this.setting_name}}}"
                                           value="{{{this.setting_value}}}"
                                    />
                                </div>
                            {{/each}}
                            <div class="form-group">
                                <input type="submit" class="btn btn-primary" value="Save settings"/>
                            </div>
                        </form>
                    {{else}}
                        <div class="toast toast-error">
                            <button class="btn btn-clear float-right"></button>
                            <p>There are no settings to display.</p>
                        </div>
                    {{/if}}
                </div>
            </div>
        </div>
    </div>
</div>

{{> admin_footer}}